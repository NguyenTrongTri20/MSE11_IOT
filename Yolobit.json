{"mode":"block","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"3tel%`2OI%DO:zWF)p(8\">cmd</variable><variable id=\"nBp-0EGCHFieg4l2*V2F\">counter</variable></variables><block type=\"procedures_defnoreturn\" id=\"rEz)Yb`zNbU:#p*Ek`Iq\" x=\"-813\" y=\"-213\"><field name=\"NAME\">Controller2</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"l[WDoGXPB2xw7ufN}RL9\"><field name=\"VAR\" id=\"3tel%`2OI%DO:zWF)p(8\">cmd</field><value name=\"VALUE\"><block type=\"yolobit_device_read_terminal\" id=\"5p-sF#^od?tWcJV3F345\"></block></value><next><block type=\"controls_if\" id=\"sV0sqH#Yt^seCsB=~;uE\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"s?4u#b[9dS7GBRgB@,`0\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"}ae1yyJ]:Vr+t8Ns8BL/\"><field name=\"VAR\" id=\"3tel%`2OI%DO:zWF)p(8\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"eW-Uu$aAz^s,9_cVF]!5\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_minifan\" id=\"QPvso+Dj,A?_N*h^syt.\"><field name=\"NAME\">pin10</field><value name=\"percent\"><shadow type=\"math_number\" id=\"=W2^-o{e*0ez;o-q4q0b\"><field name=\"NUM\">100</field></shadow></value></block></statement><next><block type=\"controls_if\" id=\"Wg~pgc/J_`F}YWyh?%4r\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"NbBx5(6dw=]uj4W01lYY\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"_/_r7zI.O*55%f!*m[2u\"><field name=\"VAR\" id=\"3tel%`2OI%DO:zWF)p(8\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"wfj~5iD8!8NEhdSk#Q9:\"><field name=\"TEXT\">2</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_minifan\" id=\"x574C2/6%)Ueo_~=jONX\"><field name=\"NAME\">pin10</field><value name=\"percent\"><shadow type=\"math_number\" id=\"?kI[TdM:*p:Yl$Ntny{t\"><field name=\"NUM\">0</field></shadow></value></block></statement><next><block type=\"controls_if\" id=\"+Z:XCO~T3*VM{^PD[t)q\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"%U.0jm7UYv04d]4d}$O#\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"bmzt?C/L?x+OBY.k,7~k\"><field name=\"VAR\" id=\"3tel%`2OI%DO:zWF)p(8\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"b(8.k%U=)0/oN+)fjz(N\"><field name=\"TEXT\">3</field></block></value></block></value><statement name=\"DO0\"><block type=\"yolobit_basic_show_image\" id=\"-KSCsmBU=({.wf`;!X(I\"><value name=\"image\"><block type=\"yolobit_basic_image_builtins\" id=\"-y31-dqRjNSgjlW4tz-@\"><field name=\"image\">HEART</field></block></value></block></statement><next><block type=\"controls_if\" id=\"SNaI`Gcr~gG;9QF}[.yR\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"5~=etbjyRn?#rZ-]_2Ym\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"#2w:4Y7uq-u:c!r~_VC%\"><field name=\"VAR\" id=\"3tel%`2OI%DO:zWF)p(8\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"OhtI~;vjdx/CvI4m16Y$\"><field name=\"TEXT\">4</field></block></value></block></value><statement name=\"DO0\"><block type=\"yolobit_basic_clear_display\" id=\"oVAGRU.D6p`TY{k,n!L{\"></block></statement><next><block type=\"controls_if\" id=\"/@W?4?[Iw+(m4$5q.`e*\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"d1-~{,ZJk=ITV^lMhO|+\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"A@4HaFSo@+|_tc]BJr{7\"><field name=\"VAR\" id=\"3tel%`2OI%DO:zWF)p(8\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"-;+V5ZU^bD6CGxgWqcN-\"><field name=\"TEXT\">5</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_led_tiny_set_all\" id=\"LerHr]Wwhg-5=X*q}T$c\"><field name=\"port\">pin14</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"TkN=VPSF!@`i{CCB?P3[\"><field name=\"COLOUR\">#ff0000</field></shadow></value></block></statement><next><block type=\"controls_if\" id=\"E(vJ,32ic6|U:Kz8y~N2\"><value name=\"IF0\"><block type=\"logic_compare\" id=\";;m=I$l70K;m~fw:@~),\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"+5wVVg%m!@Zy,g$AGUEq\"><field name=\"VAR\" id=\"3tel%`2OI%DO:zWF)p(8\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"[FXJqH,2Znu0uRXi^~8k\"><field name=\"TEXT\">6</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_led_tiny_set_all\" id=\"#`2JvMK+#jB/-w?v$e5?\"><field name=\"port\">pin14</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\".n^4(%H#}WhmfWT[!Ik$\"><field name=\"COLOUR\">#ffffff</field></shadow></value></block></statement><next><block type=\"controls_if\" id=\"?!7$9]*n)J}W9#vU8dd?\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"N3wV!IcM$lHsNZU0|jCD\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"]=6?EdE|r+$_jx~{TIpw\"><field name=\"VAR\" id=\"3tel%`2OI%DO:zWF)p(8\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"BMr~sRbbd$myFMr$d!h+\"><field name=\"TEXT\">7</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_led_tiny_set_all\" id=\"iCAY8=D*EZLu{`43IyNK\"><field name=\"port\">pin14</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"U9c`4k+=xFiiF(bH*9!F\"><field name=\"COLOUR\">#000000</field></shadow></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"yolobit_basic_forever\" id=\"w5Bl*-!,Ihc8X2tI)wP*\" x=\"-187\" y=\"-137\"><statement name=\"ONSTART\"><block type=\"yolobit_basic_show_image\" id=\"@b;ji{.y_dL.Lt:1s~Je\"><value name=\"image\"><block type=\"yolobit_basic_image_builtins\" id=\"W6#:$=8ft5R@p+u^|y)l\"><field name=\"image\">HAPPY</field></block></value><next><block type=\"variables_set\" id=\"f-`/f]0#`,unniLJv7i$\"><field name=\"VAR\" id=\"nBp-0EGCHFieg4l2*V2F\">counter</field><value name=\"VALUE\"><block type=\"math_number\" id=\"GD$e7``1v-eroC{G(Ee;\"><field name=\"NUM\">0</field></block></value></block></next></block></statement><statement name=\"FOREVER\"><block type=\"math_change\" id=\"j(,Y,E)PlJ^q6E*EP-Jn\"><field name=\"VAR\" id=\"nBp-0EGCHFieg4l2*V2F\">counter</field><value name=\"DELTA\"><shadow type=\"math_number\" id=\";|4:0k+U4ljGS:/P+kx%\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\" id=\"uf.r6WXX=myy?%BfgVjg\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"HfEcN4N9ur3hau^;-2y,\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"-nr/2qt0rvE-V!DPFm9S\"><field name=\"VAR\" id=\"nBp-0EGCHFieg4l2*V2F\">counter</field></block></value><value name=\"B\"><block type=\"math_number\" id=\")@8yaDx75lr2$}(?.ruX\"><field name=\"NUM\">5</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"@v4UI:zYFsax4ZhcUnkY\"><field name=\"VAR\" id=\"nBp-0EGCHFieg4l2*V2F\">counter</field><value name=\"VALUE\"><block type=\"math_number\" id=\"4?,X-#%eE5KQo1UBa{:Q\"><field name=\"NUM\">0</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"=%@-4^scFM5%VLr^G3(8\"><mutation name=\"Sensing\"></mutation></block></next></block></statement><next><block type=\"procedures_callnoreturn\" id=\",-g8sPgs+c.x=a8BnD@e\"><mutation name=\"Controller2\"></mutation><next><block type=\"yolobit_basic_sleep\" id=\"D6$^}UIHEkG]drvJOK6d\"><value name=\"duration\"><shadow type=\"math_number\" id=\"fY(O;hQyzAbdJ0xBE)j,\"><field name=\"NUM\">1000</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"!my3+W-X4I++{qKHBE~;\" x=\"188\" y=\"-137\"><field name=\"NAME\">Sensing</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"aiot_lcd1602_clear\" id=\"0?%N|Sy7A0Ygw2YO#2l5\"><next><block type=\"aiot_dht_measure\" id=\"oyQ7FVXMC%5i]%z;zWR|\"><next><block type=\"aiot_lcd1602_display\" id=\"I2ji[fIn6!Hb4$Ypt5]k\"><value name=\"string\"><shadow type=\"text\" id=\"qrIC!/-ni/4Pd2b=6V]H\"><field name=\"TEXT\">Hello</field></shadow><block type=\"text_join\" id=\"C_|!2^2HZx5t)dXQRwlW\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"$)vScS3.v_$59ZYMEJYp\"><field name=\"TEXT\">Nhiet do: </field></block></value><value name=\"ADD1\"><block type=\"aiot_dht_read\" id=\"]`S$Z8@@MLA=fRaAcvK*\"><field name=\"DATA\">TEMP</field></block></value></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"gsZ*RV2]Mp;8KSDqIgU.\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"?G:`RrNER(e=1Yh|fBMh\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_lcd1602_display\" id=\"[WM1$^XB9L=:KVB5mG9i\"><value name=\"string\"><shadow type=\"text\" id=\"QE7Ml8KoUdSCrEb0!-r~\"><field name=\"TEXT\">Hello</field></shadow><block type=\"text_join\" id=\"smP0rgH{Seq$O9v5w2$P\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"FO1xqH$jja*MV1rz1y]K\"><field name=\"TEXT\">Do am: </field></block></value><value name=\"ADD1\"><block type=\"aiot_dht_read\" id=\"+3sQ=7x{%@,/n#Tj{Nr:\"><field name=\"DATA\">HUMID</field></block></value></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"WX-S}T}h9a^~6!L+O#^X\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"~^5Hg}Hsu,;Bzjpf.0^=\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"xbot_serial_write_string\" id=\"*C^:2b=Q0,^W*-800?bg\"><value name=\"string\"><shadow type=\"text\" id=\"`^np#VMQkcz?5kY$O!xV\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"-GJQ24_C=3{[6Rq3%O}P\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"pZ#1fK;gkNuJ~Lmr:(j3\"><field name=\"TEXT\">!1:T:</field></block></value><value name=\"ADD1\"><block type=\"aiot_dht_read\" id=\"^|Xfve+sxfH|`evc/ARb\"><field name=\"DATA\">TEMP</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"!)JFJ%]0BrL5:1gf;o1|\"><field name=\"TEXT\">#</field></block></value></block></value><next><block type=\"xbot_serial_write_string\" id=\"|H1bP:xi,30p?3Zygkc#\"><value name=\"string\"><shadow type=\"text\" id=\"`^np#VMQkcz?5kY$O!xV\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"O`X(*0))V^,b.6sgv6D1\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"309mij@,ZC:l33ajGh0i\"><field name=\"TEXT\">!1:H:</field></block></value><value name=\"ADD1\"><block type=\"aiot_dht_read\" id=\"O]^Lx#8oGt@JXg^t@(ig\"><field name=\"DATA\">HUMID</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"~Az`;EbajU1/_`~,v0R[\"><field name=\"TEXT\">#</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","python":"import sys\nimport uselect\nfrom yolobit import *\nbutton_a.on_pressed = None\nbutton_b.on_pressed = None\nbutton_a.on_pressed_ab = button_b.on_pressed_ab = -1\nfrom aiot_rgbled import RGBLed\nimport time\nfrom aiot_lcd1602 import LCD1602\nfrom machine import Pin, SoftI2C\nfrom aiot_dht20 import DHT20\n\ndef read_terminal_input():\n  spoll=uselect.poll()        # Set up an input polling object.\n  spoll.register(sys.stdin, uselect.POLLIN)    # Register polling object.\n\n  input = ''\n  if spoll.poll(0):\n    input = sys.stdin.read(1)\n\n    while spoll.poll(0):\n      input = input + sys.stdin.read(1)\n\n  spoll.unregister(sys.stdin)\n  return input\n\ntiny_rgb = RGBLed(pin14.pin, 4)\n\n# Mô tả hàm này...\ndef Controller2():\n  global cmd, counter, aiot_lcd1602, aiot_dht20, tiny_rgb\n  cmd = read_terminal_input()\n  if cmd == '1':\n    pin10.write_analog(round(translate(100, 0, 100, 0, 1023)))\n  if cmd == '2':\n    pin10.write_analog(round(translate(0, 0, 100, 0, 1023)))\n  if cmd == '3':\n    display.show(Image.HEART)\n  if cmd == '4':\n    display.clear()\n  if cmd == '5':\n    tiny_rgb.show(0, hex_to_rgb('#ff0000'))\n  if cmd == '6':\n    tiny_rgb.show(0, hex_to_rgb('#ffffff'))\n  if cmd == '7':\n    tiny_rgb.show(0, hex_to_rgb('#000000'))\n\naiot_lcd1602 = LCD1602()\n\naiot_dht20 = DHT20(SoftI2C(scl=Pin(22), sda=Pin(21)))\n\n# Mô tả hàm này...\ndef Sensing():\n  global cmd, counter, aiot_lcd1602, aiot_dht20, tiny_rgb\n  aiot_lcd1602.clear()\n  aiot_dht20.read_dht20()\n  aiot_lcd1602.move_to(0, 0)\n  aiot_lcd1602.putstr(('Nhiet do: ' + str(aiot_dht20.dht20_temperature())))\n  aiot_lcd1602.move_to(0, 1)\n  aiot_lcd1602.putstr(('Do am: ' + str(aiot_dht20.dht20_humidity())))\n  print((''.join([str(x) for x in ['!1:T:', aiot_dht20.dht20_temperature(), '#']])), end =' ')\n  print((''.join([str(x2) for x2 in ['!1:H:', aiot_dht20.dht20_humidity(), '#']])), end =' ')\n\nif True:\n  display.show(Image.HAPPY)\n  counter = 0\n\nwhile True:\n  counter = (counter if isinstance(counter, (int, float)) else 0) + 1\n  if counter == 5:\n    counter = 0\n    Sensing()\n  Controller2()\n  time.sleep_ms(1000)\n","name":"untitled","extensions":[{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"}],"device":"yolobit"}